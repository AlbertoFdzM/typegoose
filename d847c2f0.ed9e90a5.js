(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{114:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return r})),n.d(t,"metadata",(function(){return p})),n.d(t,"toc",(function(){return l})),n.d(t,"default",(function(){return o}));var a=n(3),i=n(7),c=(n(0),n(133)),r={id:"prop",title:"Prop"},p={unversionedId:"api/decorators/prop",id:"api/decorators/prop",isDocsHomePage:!1,title:"Prop",description:"@prop(options WhatIsIt) is used for setting properties in a Class (without this set, it is just a type and will NOT be in the final model/document)",source:"@site/../docs/api/decorators/prop.md",slug:"/api/decorators/prop",permalink:"/typegoose/docs/api/decorators/prop",editUrl:"https://github.com/typegoose/typegoose/edit/master/docs/../docs/api/decorators/prop.md",version:"current",sidebar:"docs",previous:{title:"Environment Variables",permalink:"/typegoose/docs/api/environment-variables"},next:{title:"Map Prop",permalink:"/typegoose/docs/api/decorators/map-prop"}},l=[{value:"Single Options",id:"single-options",children:[{value:"required",id:"required",children:[]},{value:"index",id:"index",children:[]},{value:"unique",id:"unique",children:[]},{value:"default",id:"default",children:[]},{value:"_id",id:"_id",children:[]},{value:"ref",id:"ref",children:[]},{value:"refPath",id:"refpath",children:[]},{value:"refType",id:"reftype",children:[]},{value:"validate",id:"validate",children:[]},{value:"alias",id:"alias",children:[]},{value:"select",id:"select",children:[]},{value:"get &amp; set",id:"get--set",children:[]},{value:"type",id:"type",children:[]},{value:"enum",id:"enum",children:[]},{value:"addNullToEnum",id:"addnulltoenum",children:[]},{value:"discriminators",id:"discriminators",children:[]},{value:"innerOptions",id:"inneroptions",children:[]},{value:"outerOptions",id:"outeroptions",children:[]}]},{value:"Array Options",id:"array-options",children:[{value:"items",id:"items",children:[]},{value:"dim",id:"dim",children:[]}]},{value:"Map Options",id:"map-options",children:[{value:"of",id:"of",children:[]}]},{value:"String Transform options",id:"string-transform-options",children:[{value:"lowercase",id:"lowercase",children:[]},{value:"uppercase",id:"uppercase",children:[]},{value:"trim",id:"trim",children:[]}]},{value:"String Validation options",id:"string-validation-options",children:[{value:"maxlength",id:"maxlength",children:[]},{value:"minlength",id:"minlength",children:[]},{value:"match",id:"match",children:[]}]},{value:"Number Validation options",id:"number-validation-options",children:[{value:"max",id:"max",children:[]},{value:"min",id:"min",children:[]}]},{value:"WhatIsIt",id:"whatisit",children:[]}],b={toc:l};function o(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(c.b)("wrapper",Object(a.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"@prop(options: object, kind: WhatIsIt)")," is used for setting properties in a Class (without this set, it is just a type and will ",Object(c.b)("strong",{parentName:"p"},"NOT")," be in the final model/document)"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"options")," is to set ",Object(c.b)("a",Object(a.a)({parentName:"li"},{href:"#options"}),"all options")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"kind")," is to overwrite what kind of prop this is (should be auto-inferred), ",Object(c.b)("a",Object(a.a)({parentName:"li"},{href:"#whatisit"}),"read more here"))),Object(c.b)("h2",{id:"single-options"},"Single Options"),Object(c.b)("h3",{id:"required"},"required"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"boolean")),Object(c.b)("p",null,"Set this to true, if the property is required (best practice is ",Object(c.b)("inlineCode",{parentName:"p"},"public property!: any"),", note the ",Object(c.b)("inlineCode",{parentName:"p"},"!"),")",Object(c.b)("br",{parentName:"p"}),"\n","For more information see the ",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"http://mongoosejs.com/docs/api.html#schematype_SchemaType-required"}),"mongoose documentation")),Object(c.b)("p",null,"Example:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'class Something {\n  @prop({ required: true }) // this is now required in the schema\n  public firstName!: string;\n\n  @prop() // by default, a property is not required\n  public lastName?: string; // using the "?" marks the property as optional\n}\n')),Object(c.b)("h3",{id:"index"},"index"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"boolean")),Object(c.b)("p",null,"Create an Index for this Property. Should act like the ",Object(c.b)("inlineCode",{parentName:"p"},"@index")," class decorator, but without options."),Object(c.b)("p",null,"Example:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"class IndexedClass {\n  @prop({ index: true })\n  public indexedField?: string;\n}\n")),Object(c.b)("h3",{id:"unique"},"unique"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"boolean")),Object(c.b)("p",null,"Create an Index that sets this property to be ",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"http://mongoosejs.com/docs/api.html#schematype_SchemaType-unique"}),"unique"),"."),Object(c.b)("p",null,"Example:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'class IndexedClass {\n  @prop({ unique: true }) // implicitly has "index: true"\n  public uniqueId?: string;\n}\n')),Object(c.b)("h3",{id:"default"},"default"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"any")),Object(c.b)("p",null,"Set a default, when no value is given at creation time."),Object(c.b)("p",null,"Example:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"class Defaulted {\n  @prop({ default: 'hello world' })\n  public upperCase?: string; // mark as optional, because it will be defaulted\n}\n")),Object(c.b)("p",null,"You may also set the ",Object(c.b)("inlineCode",{parentName:"p"},"default")," schema option to a function. Mongoose will execute that function and use the return value as the default."),Object(c.b)("p",null,"Example:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"class Defaulted {\n  @prop({ required: true })\n  firstName!: string\n  @prop({ required: true })\n  lastName!: string\n  \n  @prop({ \n    default: function (this: DocumentType<Defaulted>) {\n      return `${this.firstName} ${this.lastName}`\n    }\n  })\n  public fullName?: string; // mark as optional, because it will be defaulted\n}\n")),Object(c.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"To have the ",Object(c.b)("inlineCode",{parentName:"p"},"this")," keyword correctly typed, you have to pass a ",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"https://www.typescriptlang.org/docs/handbook/functions.html#this-parameters"}),"this parameter"),"."))),Object(c.b)("h3",{id:"_id"},"_id"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"boolean")),Object(c.b)("p",null,"Set this to ",Object(c.b)("inlineCode",{parentName:"p"},"false"),". if you want to turn off creating IDs for sub-documents."),Object(c.b)("p",null,"Example:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"class Nested {}\n\nclass Parent {\n  @prop({ _id: false })\n  public nest: Nested;\n}\n")),Object(c.b)("h3",{id:"ref"},"ref"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"Class | string")),Object(c.b)("p",null,"Set which class to use for Reference (this cannot be inferred by the type)."),Object(c.b)("p",null,Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"/typegoose/docs/guides/advanced/reference-other-classes#common-problems"}),"->look here where ",Object(c.b)("inlineCode",{parentName:"a"},"Class")," cannot be used")),Object(c.b)("p",null,"Example:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"class Kitten {\n  @prop()\n  public name?: string;\n}\n\nclass Cat {\n  // single examples\n  @prop({ ref: () => Kitten })\n  public kitten?: Ref<Kitten>;\n  // or\n  @prop({ ref: 'Kitten' })\n  public kitten?: Ref<Kitten>;\n\n  // array examples\n  @prop({ ref: () => Kitten })\n  public kittens?: Ref<Kitten>[];\n  // or\n  @prop({ ref: 'Kitten' })\n  public kittens?: Ref<Kitten>[];\n}\n")),Object(c.b)("p",null,"The ",Object(c.b)("inlineCode",{parentName:"p"},"'Nested'"),"(as string) form is useful to avoid unintuitive errors due to circular dependencies, such as ",Object(c.b)("inlineCode",{parentName:"p"},'Error: Options "ref" is set, but is undefined/null!'),"."),Object(c.b)("h3",{id:"refpath"},"refPath"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"string")),Object(c.b)("p",null,"Set which path to look for which Class to use."),Object(c.b)("p",null,"Example:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"class Car {}\nclass Shop {}\n\n// in another class\nclass Another {\n  @prop({ required: true, enum: 'Car' | 'Shop' })\n  public which!: string;\n\n  @prop({ refPath: 'which' })\n  public kind?: Ref<Car | Shop>;\n}\n")),Object(c.b)("h3",{id:"reftype"},"refType"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"mongoose.Schema.Types.Number")," ","|"," ",Object(c.b)("inlineCode",{parentName:"p"},"mongoose.Schema.Types.String")," ","|"," ",Object(c.b)("inlineCode",{parentName:"p"},"mongoose.Schema.Types.Buffer")," ","|"," ",Object(c.b)("inlineCode",{parentName:"p"},"mongoose.Schema.Types.ObjectId")),Object(c.b)("p",null,"Set which Type to use for refs."),Object(c.b)("p",null,"Deprecated since ",Object(c.b)("inlineCode",{parentName:"p"},"7.2.0"),", use ",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"#type"}),Object(c.b)("inlineCode",{parentName:"a"},"@prop"),"'s ",Object(c.b)("inlineCode",{parentName:"a"},"type"))),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"class Nested {}\n\nclass Parent {\n  @prop({ ref: 'Nested', refType: mongoose.Schema.Types.ObjectId }) // it is a \"String\" because of reference errors\n  public nest: Ref<Nested>;\n}\n")),Object(c.b)("h3",{id:"validate"},"validate"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"object")," OR ",Object(c.b)("inlineCode",{parentName:"p"},"RegExp")," OR ",Object(c.b)("inlineCode",{parentName:"p"},"(value) => boolean")," OR ",Object(c.b)("inlineCode",{parentName:"p"},"object[]")," Required options of the object:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"validator"),": ",Object(c.b)("inlineCode",{parentName:"li"},"(value) => boolean")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"message"),": ",Object(c.b)("inlineCode",{parentName:"li"},"String"),", the message shows when the validator fails")),Object(c.b)("p",null,"Set a custom function for validation (must return a boolean)."),Object(c.b)("p",null,"Example: (For more Examples look at ",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"https://mongoosejs.com/docs/api.html#schematype_SchemaType-validate"}),"Mongoose's Documentation"),")"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"// \"maxlength\" already exists as an option, this just shows how to use validate\nclass Validated {\n  @prop({\n    validate: {\n      validator: (v) => {\n        return v.length <= 10;\n      },\n      message: 'value is over 10 characters long!'\n    }\n  })\n  public validated?: string;\n}\n")),Object(c.b)("h3",{id:"alias"},"alias"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"string")),Object(c.b)("p",null,"Set an Alias for a property (best practice is to add type information for it)."),Object(c.b)("p",null,"-> For more information see the ",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"https://mongoosejs.com/docs/guide.html#aliases"}),"mongoose documentation")),Object(c.b)("p",null,"Example:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"class Dummy {\n  @prop({ alias: 'helloWorld' })\n  public hello: string; // will be included in the DB\n  public helloWorld: string; // will NOT be included in the DB, just for type completion (gets passed as hello in the DB)\n}\n")),Object(c.b)("h3",{id:"select"},"select"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"boolean")),Object(c.b)("p",null,"Set it to ",Object(c.b)("inlineCode",{parentName:"p"},"false")," if you want to retrieve data without this property by default",Object(c.b)("br",{parentName:"p"}),"\n","-> ",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"https://mongoosejs.com/docs/api.html#schematype_SchemaType-select"}),"Read more in Mongoose's offical documentation")),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"class Dummy {\n  @prop({ select: false })\n  public hello: string;\n}\n")),Object(c.b)("p",null,"In order to retrieve a prop marked as ",Object(c.b)("inlineCode",{parentName:"p"},"select: false"),", you must explicitly ask for it:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"// find all in the collection and have the \"hello\" property selected\nconst dummies = await DummyModel.find().select('+hello').exec();\n")),Object(c.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},Object(c.b)("inlineCode",{parentName:"p"},"select()")," accepts an array as well"))),Object(c.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},Object(c.b)("inlineCode",{parentName:"p"},"select()")," accepts a long string with space as a separator"))),Object(c.b)("h3",{id:"get--set"},"get & set"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"(input) => output")),Object(c.b)("p",null,"set getters & setters for fields, it is not virtual",Object(c.b)("br",{parentName:"p"}),"\n","-> both get & set must be defined all the time, even when just wanting to use one"),Object(c.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"If the ",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"#whatisit"}),"WhatIsIt")," (Primitive / Array / Map) is different from what is got from the reflection, it requires ",Object(c.b)("strong",{parentName:"p"},"explicit")," setting that it is different"))),Object(c.b)("p",null,"Pre-process string to string:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"class Dummy {\n  @prop({ set: (val: string) => val.toLowerCase(), get: (val: string) => val })\n  public hello: string;\n}\n")),Object(c.b)("p",null,"Store string, runtime have string array (string array to string):"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'class Dummy {\n  // this value is on runtime an "string-array" and is stored in the database as an "primite-string"\n  @prop({ set: (val: string[]) => val.join(\' \'), get: (val: string) => val.split(\' \'), type: String }, WhatIsIt.NONE) // requires explicit setting of "WhatIsIt"\n  public fullName?: string[];\n}\n')),Object(c.b)("h3",{id:"type"},"type"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"any | () => any")),Object(c.b)("p",null,"Overwrite the type generated for the ",Object(c.b)("inlineCode",{parentName:"p"},"design:type")," reflection"),Object(c.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"Mongoose initializes arrayProp arrays with ",Object(c.b)("inlineCode",{parentName:"p"},"[]")," instead of ",Object(c.b)("inlineCode",{parentName:"p"},"null")," / ",Object(c.b)("inlineCode",{parentName:"p"},"undefined")))),Object(c.b)("p",null,"Example: Arrays (array item types can't be automatically inferred via Reflect)"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"class Dummy {\n  @prop({ type: String })\n  public hello: string[];\n}\n")),Object(c.b)("p",null,"Example: get as ",Object(c.b)("inlineCode",{parentName:"p"},"string[]"),", save as ",Object(c.b)("inlineCode",{parentName:"p"},"string")),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"class Dummy {\n  @prop({ set: (val: string[]) => val.join(' '), get: (val: string) => val.split(' '), type: String })\n  public hello: string[];\n}\n")),Object(c.b)("p",null,"Example: Overwrite type for an enum."),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"enum SomeEnum {\n  One,\n  Two\n}\nclass Dummy {\n  @prop({ enum: SomeEnum, type: Number })\n  public enumprop: SomeEnum;\n}\n")),Object(c.b)("p",null,"Example: Overwrite the inferred type as a last resort."),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"class Dummy {\n  @prop({ type: mongoose.Schema.Types.Mixed }) // used for mongoose / how it is stored to the DB\n  public something: NewableFunction; // used for intellisense / TypeScript\n}\n")),Object(c.b)("h3",{id:"enum"},"enum"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"enum | any[]")),Object(c.b)("p",null,"Only allow values from the enum (best practice is to use TypeScript's enum)."),Object(c.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},Object(c.b)("inlineCode",{parentName:"p"},"design:type")," will be set to ",Object(c.b)("inlineCode",{parentName:"p"},"String")," if the enum is full of Strings, and ",Object(c.b)("inlineCode",{parentName:"p"},"Number")," if full of Numbers, and ",Object(c.b)("inlineCode",{parentName:"p"},"Object")," of the enum\ncontains both."))),Object(c.b)("p",null,"Example for String-Enums:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"enum Gender {\n  MALE = 'male',\n  FEMALE = 'female'\n}\n\nclass Enumed {\n  @prop({ enum: Gender })\n  public gender?: Gender;\n}\n")),Object(c.b)("p",null,"Example for Number-Enums:",Object(c.b)("br",{parentName:"p"}),"\n","(since mongoose 5.8 and typegoose 6.2)"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'enum Gender {\n  MALE, // equal to "= 0"\n  FEMALE // equal to "= 1"\n}\n\nclass Enumed {\n  @prop({ enum: Gender })\n  public gender?: Gender;\n}\n')),Object(c.b)("p",null,"Known-Issues:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"Babel doesn't set the type for enums correctly. They need to be set manually with ",Object(c.b)("a",Object(a.a)({parentName:"li"},{href:"#type"}),"the ",Object(c.b)("inlineCode",{parentName:"a"},"type")," option")),Object(c.b)("li",{parentName:"ul"},"If transpiling your code with ",Object(c.b)("inlineCode",{parentName:"li"},"tsc --transpile-only")," or ",Object(c.b)("inlineCode",{parentName:"li"},"ts-node -- transpile-only"),", then the ",Object(c.b)("inlineCode",{parentName:"li"},"--transpile-only")," needs to be removed or the type needs to be set manually with ",Object(c.b)("a",Object(a.a)({parentName:"li"},{href:"#type"}),"the ",Object(c.b)("inlineCode",{parentName:"a"},"type")," option"))),Object(c.b)("h3",{id:"addnulltoenum"},"addNullToEnum"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"boolean")),Object(c.b)("p",null,'Adds "null" to the enum array.'),Object(c.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"This doesn't work if the value is ",Object(c.b)("inlineCode",{parentName:"p"},"required")))),Object(c.b)("p",null,"Example:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"enum SomeNumberEnum {\n  one = 1,\n  two = 2\n}\nclass AddNullToEnum {\n  @prop({ enum: SomeNumberEnum, addNullToEnum: true })\n  public value?: SomeNumberEnum;\n}\n\nconst AddNullToEnumModel = getModelForClass(AddNullToEnum);\n\nAddNullToEnumModel.schema.path('value').options.enum === [1, 2, null]; // true\n\n// this allows to do the following without an validation error\nnew AddNullToEnumModel({ value: null } as AddNullToEnum);\n")),Object(c.b)("h3",{id:"discriminators"},"discriminators"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"() => [DiscriminatorObject | Class]")),Object(c.b)("p",null,"Use this function for embedded discriminators."),Object(c.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"The ",Object(c.b)("inlineCode",{parentName:"p"},"discriminatorKey")," (like in the example property ",Object(c.b)("inlineCode",{parentName:"p"},"type"),") needs to be always set in a newly created document (via ",Object(c.b)("inlineCode",{parentName:"p"},'.create({..., type: "..."})'),", or ",Object(c.b)("inlineCode",{parentName:"p"},".save()"),")"))),Object(c.b)("p",null,"Example for ",Object(c.b)("inlineCode",{parentName:"p"},"[Class]"),":"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"@modelOptions({\n  schemaOptions: {\n    discriminatorKey: 'type'\n  }\n})\nclass Building {\n  @prop({ default: 100 })\n  public width: number;\n\n  @prop({ required: true })\n  public type: string;\n}\n\nclass Garage extends Building {\n  @prop({ default: 10 })\n  public slotsForCars: number;\n}\n\nclass SummerHouse extends Building {\n  @prop({ default: 100 })\n  public distanceToLake: number;\n}\n\nclass Area {\n  @prop({ type: Building, discriminators: () => [Garage, SummerHouse] })\n  public buildings: Building[];\n}\n\nconst AreaModel = getModelForClass(Area);\n\n// then somewhere in an async function\nconst area = await AreaModel.create({});\narea.buildings.push({ type: getName(SummerHouse), distanceToLake: 100 } as SummerHouse);\narea.buildings.push({ type: getName(Garage), slotsForCars: 20 } as Garage);\nawait area.save();\n")),Object(c.b)("p",null,"Example for ",Object(c.b)("inlineCode",{parentName:"p"},"[DiscriminatorObject]"),":"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"@modelOptions({\n  schemaOptions: {\n    discriminatorKey: 'type'\n  }\n})\nclass Building {\n  @prop({ default: 100 })\n  public width: number;\n\n  @prop({ required: true })\n  public type: string;\n}\n\nclass Garage extends Building {\n  @prop({ default: 10 })\n  public slotsForCars: number;\n}\n\nclass SummerHouse extends Building {\n  @prop({ default: 100 })\n  public distanceToLake: number;\n}\n\nclass Area {\n  @prop({\n    type: Building,\n    discriminators: () => [\n      { type: Garage, value: 'G' },\n      { type: SummerHouse, value: 'S' }\n    ]\n  })\n  public buildings: Building[];\n}\n\nconst AreaModel = getModelForClass(Area);\n\n// then somewhere in an async function\nconst area = await AreaModel.create({});\narea.buildings.push({ type: 'S', distanceToLake: 100 } as SummerHouse);\narea.buildings.push({ type: 'G', slotsForCars: 20 } as Garage);\nawait area.save();\n")),Object(c.b)("h3",{id:"inneroptions"},"innerOptions"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"innerOptions"),' is used to overwrite options to be at the "Type" level'),Object(c.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(c.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"Use this only when absolutely necessary and please open a new issue about it"))),Object(c.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"This option can be used everywhere ",Object(c.b)("inlineCode",{parentName:"p"},"mapOptions")," function is called (currently being ",Object(c.b)("inlineCode",{parentName:"p"},"WhatIsIt.ARRAY")," and ",Object(c.b)("inlineCode",{parentName:"p"},"WhatIsIt.MAP"),")"))),Object(c.b)("p",null,"Example:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"class Something {\n  @prop({ required: true })\n  public propy: string[];\n}\n\n// This would be mapped to\n{\n  type: [{ type: String }],\n  required: true\n}\n\n// when using the overwrite\nclass Something {\n  @prop({ innerOptions: { required: true } })\n  public propy: string[];\n}\n\n// This would be mapped to\n{\n  type: [{ type: String, required: true }]\n}\n")),Object(c.b)("h3",{id:"outeroptions"},"outerOptions"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"outerOptions"),' is used to overwrite options to be at the "Array" level'),Object(c.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(c.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"Use this only when absolutely necessary and please open a new issue about it"))),Object(c.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"This option can be used everywhere ",Object(c.b)("inlineCode",{parentName:"p"},"mapOptions")," function is called (currently being ",Object(c.b)("inlineCode",{parentName:"p"},"WhatIsIt.ARRAY")," and ",Object(c.b)("inlineCode",{parentName:"p"},"WhatIsIt.MAP"),")"))),Object(c.b)("p",null,"Example:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"class Something {\n  @prop({ maxlength: 1 })\n  public propy: string[];\n}\n\n// This would be mapped to\n{\n  type: [{ type: String, maxlength: 1 }]\n}\n\n// when using the overwrite\nclass Something {\n  @prop({ outerOptions: { maxlength: 1 } })\n  public propy: string[];\n}\n\n// This would be mapped to\n{\n  type: [{ type: String }],\n  maxlength: 1\n}\n")),Object(c.b)("h2",{id:"array-options"},"Array Options"),Object(c.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"Option ",Object(c.b)("inlineCode",{parentName:"p"},"type"),"(formally ",Object(c.b)("inlineCode",{parentName:"p"},"items"),") must be provided, otherwise the array will result in ",Object(c.b)("inlineCode",{parentName:"p"},"Mixed")," ",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/typegoose/typegoose/issues/300"}),"read typegoose issue #300 for more")))),Object(c.b)("p",null,"Example:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'class Kitten {\n  @prop()\n  public name?: string;\n}\n\nclass Cat {\n  @prop({ type: () => [Kitten] })\n  public kitten?: Kitten[]; // "[]" or "Array<any>" or "mongoose.Types.Array<any>" is needed to be detected as an Array\n}\n')),Object(c.b)("h3",{id:"items"},"items"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"any"),Object(c.b)("br",{parentName:"p"}),"\n","(alias for ",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"#type"}),Object(c.b)("inlineCode",{parentName:"a"},"type"))," from ",Object(c.b)("inlineCode",{parentName:"p"},"@prop"),")"),Object(c.b)("div",{className:"admonition admonition-info alert alert--info"},Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"Deprecated since ",Object(c.b)("inlineCode",{parentName:"p"},"7.2.0"),", use ",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"#type"}),Object(c.b)("inlineCode",{parentName:"a"},"@prop"),"'s ",Object(c.b)("inlineCode",{parentName:"a"},"type"))))),Object(c.b)("p",null,"(see ",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"#type"}),Object(c.b)("inlineCode",{parentName:"a"},"type"))," for Examples)"),Object(c.b)("h3",{id:"dim"},"dim"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"dim")," is used to set the Dimensions this array should have (for something like an matrix)",Object(c.b)("br",{parentName:"p"}),"\n","-> needs to be higher than 0",Object(c.b)("br",{parentName:"p"}),"\n","-> ",Object(c.b)("strong",{parentName:"p"},"This Option is overwritten by using ",Object(c.b)("inlineCode",{parentName:"strong"},"type () => [Type]"))),Object(c.b)("p",null,"Example:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"class Something {\n  @prop({ dim: 3, type: String })\n  public propy: string[][][];\n}\n\n// This would be mapped to\n{\n  type: [[[{ type: String }]]]\n}\n")),Object(c.b)("p",null,"This Option can be ommitted if the following way is used: (since 7.4.0)"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"class ArrayInType {\n  @prop({ type: () => [[String]] }) // dim is 2\n  public propy: string[][];\n\n  @prop({ type: () => [String] }) // dim is 1\n  public propy: string[];\n}\n")),Object(c.b)("h2",{id:"map-options"},"Map Options"),Object(c.b)("p",null,"Example:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'class SomeMapClass {\n  @prop({ type: String })\n  public lookup?: Map<string, string>; // "Map<any, any>" or "mongoose.Types.Map<any>" is needed to be detected as an Map\n}\n')),Object(c.b)("h3",{id:"of"},"of"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"any"),Object(c.b)("br",{parentName:"p"}),"\n","(alias for ",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"#type"}),Object(c.b)("inlineCode",{parentName:"a"},"type"))," from ",Object(c.b)("inlineCode",{parentName:"p"},"@prop"),")"),Object(c.b)("div",{className:"admonition admonition-info alert alert--info"},Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"Deprecated since ",Object(c.b)("inlineCode",{parentName:"p"},"7.2.0"),", use ",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"#type"}),Object(c.b)("inlineCode",{parentName:"a"},"@prop"),"'s ",Object(c.b)("inlineCode",{parentName:"a"},"type"))))),Object(c.b)("p",null,"(see ",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"#type"}),Object(c.b)("inlineCode",{parentName:"a"},"type"))," for Examples)"),Object(c.b)("h2",{id:"string-transform-options"},"String Transform options"),Object(c.b)("h3",{id:"lowercase"},"lowercase"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"boolean")),Object(c.b)("p",null,"Set this to ",Object(c.b)("inlineCode",{parentName:"p"},"true"),", if the value should always be lowercased."),Object(c.b)("p",null,"Example:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'class LowerCased {\n  @prop({ lowercase: true })\n  public lowerCase: string; // "HELLO" -> "hello"\n}\n')),Object(c.b)("h3",{id:"uppercase"},"uppercase"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"boolean")),Object(c.b)("p",null,"Set this to ",Object(c.b)("inlineCode",{parentName:"p"},"true"),", if the value should always be UPPERCASED. "),Object(c.b)("p",null,"Example:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'class UpperCased {\n  @prop({ uppercase: true })\n  public upperCase: string; // "hello" -> "HELLO"\n}\n')),Object(c.b)("h3",{id:"trim"},"trim"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"boolean")),Object(c.b)("p",null,"Set this to ",Object(c.b)("inlineCode",{parentName:"p"},"true"),", if the value should always be trimmed."),Object(c.b)("p",null,"Example:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'class Trimmed {\n  @prop({ trim: true })\n  public trim: string; // "   Trim me   " -> "Trim me"\n}\n')),Object(c.b)("h2",{id:"string-validation-options"},"String Validation options"),Object(c.b)("h3",{id:"maxlength"},"maxlength"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"number")),Object(c.b)("p",null,"Sets the maximum length the string can have."),Object(c.b)("p",null,"Example:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"class MaxLengthed {\n  @prop({ maxlength: 10 })\n  public maxlengthed?: string; // the string can only be 10 characters long\n}\n")),Object(c.b)("h3",{id:"minlength"},"minlength"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"number")),Object(c.b)("p",null,"Sets the minimum length the string can have (must be above 0)."),Object(c.b)("p",null,"Example:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"class MinLengthed {\n  @prop({ minlength: 10 })\n  public minlengthed?: string; // the string must be at least 10 characters long\n}\n")),Object(c.b)("h3",{id:"match"},"match"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"RegExp")),Object(c.b)("p",null,"Sets a Regular Expression for the string must match."),Object(c.b)("p",null,"Example:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"class RegExpString {\n  @prop({ match: /^H/i })\n  public matched?: string;\n}\n")),Object(c.b)("h2",{id:"number-validation-options"},"Number Validation options"),Object(c.b)("h3",{id:"max"},"max"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"number")),Object(c.b)("p",null,"Sets the maximum value the number property can have."),Object(c.b)("p",null,"Example:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"class Maxed {\n  @prop({ max: 10 })\n  public maxed?: number; // the value can be at most 10\n}\n")),Object(c.b)("h3",{id:"min"},"min"),Object(c.b)("p",null,"Accepts Type: ",Object(c.b)("inlineCode",{parentName:"p"},"number")),Object(c.b)("p",null,"Sets the minimum value the number property can have."),Object(c.b)("p",null,"Example:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"class Mined {\n  @prop({ min: 0 })\n  public mined?: number; // the value must be at least 0\n}\n")),Object(c.b)("h2",{id:"whatisit"},"WhatIsIt"),Object(c.b)("p",null,"This is an Enum to represent what the prop should be, this is in most cases automatically set, it can be overwritten in the second parameter of ",Object(c.b)("inlineCode",{parentName:"p"},"@prop")),Object(c.b)("p",null,"Full Enum:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"enum WhatIsIt {\n  ARRAY,\n  MAP,\n  NONE // default for properties if no Map / Array is detected\n}\n")))}o.isMDXComponent=!0},133:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var a=n(0),i=n.n(a);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var b=i.a.createContext({}),o=function(e){var t=i.a.useContext(b),n=t;return e&&(n="function"==typeof e?e(t):p(p({},t),e)),n},s=function(e){var t=o(e.components);return i.a.createElement(b.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},d=i.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,c=e.originalType,r=e.parentName,b=l(e,["components","mdxType","originalType","parentName"]),s=o(n),d=a,u=s["".concat(r,".").concat(d)]||s[d]||m[d]||c;return n?i.a.createElement(u,p(p({ref:t},b),{},{components:n})):i.a.createElement(u,p({ref:t},b))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var c=n.length,r=new Array(c);r[0]=d;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p.mdxType="string"==typeof e?e:a,r[1]=p;for(var b=2;b<c;b++)r[b]=n[b];return i.a.createElement.apply(null,r)}return i.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);